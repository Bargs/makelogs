{"version":3,"sources":["../../src/argv/_parseDays.js"],"names":["_","require","moment","customDayBoundsRE","oldDayExpressionRE","module","exports","parseDays","argv","startBase","utc","startOf","endBase","endOf","isNumber","days","subtract","add","isString","test","ends","split","map","parseFloat","TypeError"],"mappings":";;AAAA,IAAMA,IAAIC,QAAQ,QAAR,CAAV;AACA,IAAMC,SAASD,QAAQ,QAAR,CAAf;;AAEA,IAAME,oBAAoB,YAA1B;AACA,IAAMC,qBAAqB,SAA3B;;AAEAC,OAAOC,OAAP,GAAiB,SAASC,SAAT,CAAmBC,IAAnB,EAAyB;AACxC,MAAMC,YAAYP,SAASQ,GAAT,GAAeC,OAAf,CAAuB,KAAvB,CAAlB;AACA,MAAMC,UAAUV,SAASQ,GAAT,GAAeG,KAAf,CAAqB,KAArB,CAAhB;;AAEA,MAAIb,EAAEc,QAAF,CAAWN,KAAKO,IAAhB,CAAJ,EAA2B;AACzB,WAAO,CACLN,UAAUO,QAAV,CAAmBR,KAAKO,IAAxB,EAA8B,MAA9B,CADK,EAELH,QAAQK,GAAR,CAAYT,KAAKO,IAAjB,EAAuB,MAAvB,CAFK,CAAP;AAID;;AAED,MAAIf,EAAEkB,QAAF,CAAWV,KAAKO,IAAhB,CAAJ,EAA2B;AACzB,QAAIZ,kBAAkBgB,IAAlB,CAAuBX,KAAKO,IAA5B,CAAJ,EAAuC;AACrC,UAAMK,OAAOZ,KAAKO,IAAL,CAAUM,KAAV,CAAgB,GAAhB,EAAqBC,GAArB,CAAyBC,UAAzB,CAAb;AACA,aAAO,CACLd,UAAUO,QAAV,CAAmBI,KAAK,CAAL,CAAnB,EAA4B,MAA5B,CADK,EAELR,QAAQK,GAAR,CAAYG,KAAK,CAAL,CAAZ,EAAqB,MAArB,CAFK,CAAP;AAID,KAND,MAMO,IAAIhB,mBAAmBe,IAAnB,CAAwBX,KAAKO,IAA7B,CAAJ,EAAwC;AAC7C,YAAM,IAAIS,SAAJ,CAAc,iFAAd,CAAN;AACD;AACF;;AAED,QAAM,IAAIA,SAAJ,CAAc,iDAAd,CAAN;AACD,CAxBD","file":"_parseDays.js","sourcesContent":["const _ = require('lodash')\nconst moment = require('moment')\n\nconst customDayBoundsRE = /^\\d+\\/\\d+$/\nconst oldDayExpressionRE = /[\\-\\+,]/\n\nmodule.exports = function parseDays(argv) {\n  const startBase = moment().utc().startOf('day')\n  const endBase = moment().utc().endOf('day')\n\n  if (_.isNumber(argv.days)) {\n    return [\n      startBase.subtract(argv.days, 'days'),\n      endBase.add(argv.days, 'days'),\n    ]\n  }\n\n  if (_.isString(argv.days)) {\n    if (customDayBoundsRE.test(argv.days)) {\n      const ends = argv.days.split('/').map(parseFloat)\n      return [\n        startBase.subtract(ends[0], 'days'),\n        endBase.add(ends[1], 'days'),\n      ]\n    } else if (oldDayExpressionRE.test(argv.days)) {\n      throw new TypeError('the format of the --days flag has changed. run `makelogs --help` for more info.')\n    }\n  }\n\n  throw new TypeError('Unable to determine the starting and end dates.')\n}\n"]}